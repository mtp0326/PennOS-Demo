\doxysection{src/util/sys\+\_\+call.h File Reference}
\hypertarget{sys__call_8h}{}\label{sys__call_8h}\index{src/util/sys\_call.h@{src/util/sys\_call.h}}
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include "{}globals.\+h"{}}\newline
{\ttfamily \#include "{}kernel.\+h"{}}\newline
<<<<<<< HEAD
=======
{\ttfamily \#include "{}pennfat\+\_\+kernel.\+h"{}}\newline
>>>>>>> main
{\ttfamily \#include "{}shellbuiltins.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{sys__call_8h_a0985baf467c640978def72b6e0edc8bb}{STATUS\+\_\+\+EXITED}}~0x00
\item 
\#define \mbox{\hyperlink{sys__call_8h_ab26f0e851d5dd46ecec084f5b941acfd}{STATUS\+\_\+\+STOPPED}}~0x01
\item 
\#define \mbox{\hyperlink{sys__call_8h_aad5f3b0332fe998d13d886e4d5969b19}{STATUS\+\_\+\+SIGNALED}}~0x02
\item 
\#define \mbox{\hyperlink{sys__call_8h_ad1406bee782fa878df64c30b6a77c1e1}{P\+\_\+\+WIFEXITED}}(status)~(((status) \& 0x\+FF) == \mbox{\hyperlink{sys__call_8h_a0985baf467c640978def72b6e0edc8bb}{STATUS\+\_\+\+EXITED}})
\item 
\#define \mbox{\hyperlink{sys__call_8h_a4ab1ade32fa50a6b4ce169bfd5a1aa53}{P\+\_\+\+WIFSTOPPED}}(status)~(((status) \& 0x\+FF) == \mbox{\hyperlink{sys__call_8h_ab26f0e851d5dd46ecec084f5b941acfd}{STATUS\+\_\+\+STOPPED}})
\item 
\#define \mbox{\hyperlink{sys__call_8h_a7dd24dcb672da49b7fef53824f098693}{P\+\_\+\+WIFSIGNALED}}(status)~(((status) \& 0x\+FF) == \mbox{\hyperlink{sys__call_8h_aad5f3b0332fe998d13d886e4d5969b19}{STATUS\+\_\+\+SIGNALED}})
\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991}{log\+\_\+message\+\_\+t}} \{ \newline
\mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991ad594ab9bf88656efe790917210429046}{SCHEDULE}}
, \mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a473b49382a20dcc5b0ee10ddbc6338b4}{CREATE}}
, \mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a7a10b5d68d31711288e1fe0fa17dbf4f}{EXIT}}
, \mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a480882f626731b7fa7fc7caf12d8cb66}{SIGNAL}}
, \newline
\mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a5dfb36109b24f39d54d5c3f48f53def8}{ZOMBIE}}
, \mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a4054f1e964953e9b2236beb36a714f7f}{ORPHAN}}
, \mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a79a322ccb4b29b85b3cab52dbccefd17}{WAIT}}
, \mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991ab31411fab4fd2cab988d78995b9e888f}{NICE}}
, \newline
\mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a02fc27068fe9a3c151ffcc08ec5bb65d}{BLOCK}}
, \mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a2cf317a25bb87a47bcc72b2ac633945d}{UNBLOCK}}
, \mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a679ee5320d66c8322e310daeb2ee99b8}{STOP}}
, \mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a49959dd441dcda75d6898cf2c68fb374}{CONTINUE}}
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
pid\+\_\+t \mbox{\hyperlink{sys__call_8h_a43b789c710ba1501bcd8cf54e4382e50}{s\+\_\+spawn}} (void \texorpdfstring{$\ast$}{*}(\texorpdfstring{$\ast$}{*}func)(void \texorpdfstring{$\ast$}{*}), char \texorpdfstring{$\ast$}{*}argv\mbox{[}$\,$\mbox{]}, int fd0, int fd1)
\begin{DoxyCompactList}\small\item\em Create a child process that executes the function {\ttfamily func}. The child will retain some attributes of the parent. \end{DoxyCompactList}\item 
pid\+\_\+t \mbox{\hyperlink{sys__call_8h_a62b97025761b7f8ad7e59b641cad08d6}{s\+\_\+spawn\+\_\+nice}} (void \texorpdfstring{$\ast$}{*}(\texorpdfstring{$\ast$}{*}func)(void \texorpdfstring{$\ast$}{*}), char \texorpdfstring{$\ast$}{*}argv\mbox{[}$\,$\mbox{]}, int fd0, int fd1, unsigned int \mbox{\hyperlink{pennos_8c_a2e0cca4a43c21259b881d59c96c74fe0}{priority}})
\item 
pid\+\_\+t \mbox{\hyperlink{sys__call_8h_a3c0c6c4ae69799354d707ff57ac925d3}{s\+\_\+waitpid}} (pid\+\_\+t pid, int \texorpdfstring{$\ast$}{*}wstatus, bool nohang)
\begin{DoxyCompactList}\small\item\em Wait on a child of the calling process, until it changes state. If {\ttfamily nohang} is true, this will not block the calling process and return immediately. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{sys__call_8h_a18e6794b108eea25459bd7fe31de4e76}{s\+\_\+kill}} (pid\+\_\+t pid, int signal)
\begin{DoxyCompactList}\small\item\em Send a signal to a particular process. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sys__call_8h_a53c8865d5bf1ca946e5b5405190f6690}{s\+\_\+exit}} (void)
\begin{DoxyCompactList}\small\item\em Unconditionally exit the calling process. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{sys__call_8h_ac711d33fcf2573a590b224b6debab996}{s\+\_\+nice}} (pid\+\_\+t pid, int \mbox{\hyperlink{pennos_8c_a2e0cca4a43c21259b881d59c96c74fe0}{priority}})
\begin{DoxyCompactList}\small\item\em Set the priority of the specified thread. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sys__call_8h_aec37528a3c7935864924764d1911126c}{s\+\_\+sleep}} (unsigned int ticks)
\begin{DoxyCompactList}\small\item\em Suspends execution of the calling proces for a specified number of clock ticks. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{sys__call_8h_a9116ac84aeec3a4717eab9aa7137080e}{s\+\_\+spawn\+\_\+and\+\_\+wait}} (void \texorpdfstring{$\ast$}{*}(\texorpdfstring{$\ast$}{*}func)(void \texorpdfstring{$\ast$}{*}), char \texorpdfstring{$\ast$}{*}argv\mbox{[}$\,$\mbox{]}, int fd0, int fd1, bool nohang, unsigned int \mbox{\hyperlink{pennos_8c_a2e0cca4a43c21259b881d59c96c74fe0}{priority}})
\begin{DoxyCompactList}\small\item\em Spawns and waits for a process. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structpcb__t}{pcb\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{sys__call_8h_a35ff16131dec7dc8b25686329a19d0db}{s\+\_\+find\+\_\+process}} (pid\+\_\+t pid)
\begin{DoxyCompactList}\small\item\em Finds a process in any state. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{sys__call_8h_a09ef4dc77a6071976f7d93759d48afa6}{s\+\_\+remove\+\_\+process}} (pid\+\_\+t pid)
\begin{DoxyCompactList}\small\item\em Removes a process in any state. \end{DoxyCompactList}\item 
void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{sys__call_8h_ab5efee98239591e685e3ae7da8203b21}{s\+\_\+function\+\_\+from\+\_\+string}} (char \texorpdfstring{$\ast$}{*}program)
\item 
int \mbox{\hyperlink{sys__call_8h_a1db57eb907f680ab844066357b793d5f}{s\+\_\+write\+\_\+log}} (\mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991}{log\+\_\+message\+\_\+t}} logtype, \mbox{\hyperlink{structpcb__t}{pcb\+\_\+t}} \texorpdfstring{$\ast$}{*}proc, unsigned int old\+\_\+nice)
\item 
int \mbox{\hyperlink{sys__call_8h_a7cc95330d937650d14281e3d6041f284}{s\+\_\+move\+\_\+process}} (\mbox{\hyperlink{structCircularList}{Circular\+List}} \texorpdfstring{$\ast$}{*}destination, pid\+\_\+t pid)
\item 
int \mbox{\hyperlink{sys__call_8h_afec6e61720e05918efefeab347e950f3}{s\+\_\+open}} (const char \texorpdfstring{$\ast$}{*}fname, int mode)
\begin{DoxyCompactList}\small\item\em open a file name fname with the mode mode and return a file descriptor. The allowed modes are as follows\+: \end{DoxyCompactList}\item 
ssize\+\_\+t \mbox{\hyperlink{sys__call_8h_afdcf52e63af8002a5d7c02774ee0578f}{s\+\_\+read}} (int fd, int n, char \texorpdfstring{$\ast$}{*}buf)
\begin{DoxyCompactList}\small\item\em read n bytes from the file referenced by fd. On return, s\+\_\+read returns the number of bytes read, 0 if EOF is reached, or a negative number on error. A kernel level read should occur to perform the actual functionality, but its important to remember that the process’ file descriptor may need to be updated as the position of the file pointer changes. \end{DoxyCompactList}\item 
ssize\+\_\+t \mbox{\hyperlink{sys__call_8h_ad3317435b4bd7309160538fc5d730eb9}{s\+\_\+write}} (int fd, const char \texorpdfstring{$\ast$}{*}str, int n)
\begin{DoxyCompactList}\small\item\em write n bytes of the string referenced by str to the file fd and increment the file pointer by n. On return, s\+\_\+write returns the number of bytes written, or a negative value on error. Note that this writes bytes not chars, these can be anything, even \textquotesingle{}\textbackslash{}0\textquotesingle{} A kernel level write should occur to perform the actual functionality, but its important to remember that the process’ file descriptor may need to be updated as the position of the file pointer changes. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{sys__call_8h_a1ee856dbd0706f79a440d1e98b42d32d}{s\+\_\+close}} (int fd)
\begin{DoxyCompactList}\small\item\em close the file fd and return 0 on success, or a negative value on failure. A kernel level close should occur, and on success the local process’ file descriptor table should be cleaned up appropriately. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{sys__call_8h_a395873f1de0b89a686d438580ba5dcf7}{s\+\_\+unlink}} (const char \texorpdfstring{$\ast$}{*}fname)
\item 
off\+\_\+t \mbox{\hyperlink{sys__call_8h_ac21f611f4fb486935d9ad2915a529d3b}{s\+\_\+lseek}} (int fd, int offset, int whence)
\begin{DoxyCompactList}\small\item\em reposition the file pointer for fd to the offset relative to whence. You must also implement the constants F\+\_\+\+SEEK\+\_\+\+SET, F\+\_\+\+SEEK\+\_\+\+CUR, and F\+\_\+\+SEEK\+\_\+\+END, which reference similar file whences as their similarly named counterparts in lseek(2). A kernel level lseek should occur, and necessary changes to the calling process’ file descriptor table will be necessary. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sys__call_8h_ab913114f1534d9ab098d0d5c4517bfe2}{s\+\_\+ls}} (const char \texorpdfstring{$\ast$}{*}filename)
\begin{DoxyCompactList}\small\item\em List the file filename in the current directory. If filename is NULL, list all files in the current directory. Before EC implementations, this should be very simple and could literally be a call a similar k\+\_\+function. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{sys__call_8h_ad1406bee782fa878df64c30b6a77c1e1}\label{sys__call_8h_ad1406bee782fa878df64c30b6a77c1e1} 
\index{sys\_call.h@{sys\_call.h}!P\_WIFEXITED@{P\_WIFEXITED}}
\index{P\_WIFEXITED@{P\_WIFEXITED}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{P\_WIFEXITED}{P\_WIFEXITED}}
{\footnotesize\ttfamily \#define P\+\_\+\+WIFEXITED(\begin{DoxyParamCaption}\item[{}]{status }\end{DoxyParamCaption})~(((status) \& 0x\+FF) == \mbox{\hyperlink{sys__call_8h_a0985baf467c640978def72b6e0edc8bb}{STATUS\+\_\+\+EXITED}})}

\Hypertarget{sys__call_8h_a7dd24dcb672da49b7fef53824f098693}\label{sys__call_8h_a7dd24dcb672da49b7fef53824f098693} 
\index{sys\_call.h@{sys\_call.h}!P\_WIFSIGNALED@{P\_WIFSIGNALED}}
\index{P\_WIFSIGNALED@{P\_WIFSIGNALED}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{P\_WIFSIGNALED}{P\_WIFSIGNALED}}
{\footnotesize\ttfamily \#define P\+\_\+\+WIFSIGNALED(\begin{DoxyParamCaption}\item[{}]{status }\end{DoxyParamCaption})~(((status) \& 0x\+FF) == \mbox{\hyperlink{sys__call_8h_aad5f3b0332fe998d13d886e4d5969b19}{STATUS\+\_\+\+SIGNALED}})}

\Hypertarget{sys__call_8h_a4ab1ade32fa50a6b4ce169bfd5a1aa53}\label{sys__call_8h_a4ab1ade32fa50a6b4ce169bfd5a1aa53} 
\index{sys\_call.h@{sys\_call.h}!P\_WIFSTOPPED@{P\_WIFSTOPPED}}
\index{P\_WIFSTOPPED@{P\_WIFSTOPPED}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{P\_WIFSTOPPED}{P\_WIFSTOPPED}}
{\footnotesize\ttfamily \#define P\+\_\+\+WIFSTOPPED(\begin{DoxyParamCaption}\item[{}]{status }\end{DoxyParamCaption})~(((status) \& 0x\+FF) == \mbox{\hyperlink{sys__call_8h_ab26f0e851d5dd46ecec084f5b941acfd}{STATUS\+\_\+\+STOPPED}})}

\Hypertarget{sys__call_8h_a0985baf467c640978def72b6e0edc8bb}\label{sys__call_8h_a0985baf467c640978def72b6e0edc8bb} 
\index{sys\_call.h@{sys\_call.h}!STATUS\_EXITED@{STATUS\_EXITED}}
\index{STATUS\_EXITED@{STATUS\_EXITED}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{STATUS\_EXITED}{STATUS\_EXITED}}
{\footnotesize\ttfamily \#define STATUS\+\_\+\+EXITED~0x00}

\Hypertarget{sys__call_8h_aad5f3b0332fe998d13d886e4d5969b19}\label{sys__call_8h_aad5f3b0332fe998d13d886e4d5969b19} 
\index{sys\_call.h@{sys\_call.h}!STATUS\_SIGNALED@{STATUS\_SIGNALED}}
\index{STATUS\_SIGNALED@{STATUS\_SIGNALED}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{STATUS\_SIGNALED}{STATUS\_SIGNALED}}
{\footnotesize\ttfamily \#define STATUS\+\_\+\+SIGNALED~0x02}

\Hypertarget{sys__call_8h_ab26f0e851d5dd46ecec084f5b941acfd}\label{sys__call_8h_ab26f0e851d5dd46ecec084f5b941acfd} 
\index{sys\_call.h@{sys\_call.h}!STATUS\_STOPPED@{STATUS\_STOPPED}}
\index{STATUS\_STOPPED@{STATUS\_STOPPED}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{STATUS\_STOPPED}{STATUS\_STOPPED}}
{\footnotesize\ttfamily \#define STATUS\+\_\+\+STOPPED~0x01}



\doxysubsection{Enumeration Type Documentation}
\Hypertarget{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991}\label{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991} 
\index{sys\_call.h@{sys\_call.h}!log\_message\_t@{log\_message\_t}}
\index{log\_message\_t@{log\_message\_t}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{log\_message\_t}{log\_message\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991}{log\+\_\+message\+\_\+t}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{SCHEDULE@{SCHEDULE}!sys\_call.h@{sys\_call.h}}\index{sys\_call.h@{sys\_call.h}!SCHEDULE@{SCHEDULE}}}\Hypertarget{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991ad594ab9bf88656efe790917210429046}\label{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991ad594ab9bf88656efe790917210429046} 
SCHEDULE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CREATE@{CREATE}!sys\_call.h@{sys\_call.h}}\index{sys\_call.h@{sys\_call.h}!CREATE@{CREATE}}}\Hypertarget{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a473b49382a20dcc5b0ee10ddbc6338b4}\label{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a473b49382a20dcc5b0ee10ddbc6338b4} 
CREATE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{EXIT@{EXIT}!sys\_call.h@{sys\_call.h}}\index{sys\_call.h@{sys\_call.h}!EXIT@{EXIT}}}\Hypertarget{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a7a10b5d68d31711288e1fe0fa17dbf4f}\label{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a7a10b5d68d31711288e1fe0fa17dbf4f} 
EXIT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{SIGNAL@{SIGNAL}!sys\_call.h@{sys\_call.h}}\index{sys\_call.h@{sys\_call.h}!SIGNAL@{SIGNAL}}}\Hypertarget{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a480882f626731b7fa7fc7caf12d8cb66}\label{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a480882f626731b7fa7fc7caf12d8cb66} 
SIGNAL&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ZOMBIE@{ZOMBIE}!sys\_call.h@{sys\_call.h}}\index{sys\_call.h@{sys\_call.h}!ZOMBIE@{ZOMBIE}}}\Hypertarget{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a5dfb36109b24f39d54d5c3f48f53def8}\label{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a5dfb36109b24f39d54d5c3f48f53def8} 
ZOMBIE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ORPHAN@{ORPHAN}!sys\_call.h@{sys\_call.h}}\index{sys\_call.h@{sys\_call.h}!ORPHAN@{ORPHAN}}}\Hypertarget{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a4054f1e964953e9b2236beb36a714f7f}\label{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a4054f1e964953e9b2236beb36a714f7f} 
ORPHAN&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{WAIT@{WAIT}!sys\_call.h@{sys\_call.h}}\index{sys\_call.h@{sys\_call.h}!WAIT@{WAIT}}}\Hypertarget{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a79a322ccb4b29b85b3cab52dbccefd17}\label{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a79a322ccb4b29b85b3cab52dbccefd17} 
WAIT&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{NICE@{NICE}!sys\_call.h@{sys\_call.h}}\index{sys\_call.h@{sys\_call.h}!NICE@{NICE}}}\Hypertarget{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991ab31411fab4fd2cab988d78995b9e888f}\label{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991ab31411fab4fd2cab988d78995b9e888f} 
NICE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{BLOCK@{BLOCK}!sys\_call.h@{sys\_call.h}}\index{sys\_call.h@{sys\_call.h}!BLOCK@{BLOCK}}}\Hypertarget{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a02fc27068fe9a3c151ffcc08ec5bb65d}\label{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a02fc27068fe9a3c151ffcc08ec5bb65d} 
BLOCK&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{UNBLOCK@{UNBLOCK}!sys\_call.h@{sys\_call.h}}\index{sys\_call.h@{sys\_call.h}!UNBLOCK@{UNBLOCK}}}\Hypertarget{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a2cf317a25bb87a47bcc72b2ac633945d}\label{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a2cf317a25bb87a47bcc72b2ac633945d} 
UNBLOCK&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{STOP@{STOP}!sys\_call.h@{sys\_call.h}}\index{sys\_call.h@{sys\_call.h}!STOP@{STOP}}}\Hypertarget{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a679ee5320d66c8322e310daeb2ee99b8}\label{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a679ee5320d66c8322e310daeb2ee99b8} 
STOP&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{CONTINUE@{CONTINUE}!sys\_call.h@{sys\_call.h}}\index{sys\_call.h@{sys\_call.h}!CONTINUE@{CONTINUE}}}\Hypertarget{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a49959dd441dcda75d6898cf2c68fb374}\label{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991a49959dd441dcda75d6898cf2c68fb374} 
CONTINUE&\\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\Hypertarget{sys__call_8h_a1ee856dbd0706f79a440d1e98b42d32d}\label{sys__call_8h_a1ee856dbd0706f79a440d1e98b42d32d} 
\index{sys\_call.h@{sys\_call.h}!s\_close@{s\_close}}
\index{s\_close@{s\_close}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_close()}{s\_close()}}
{\footnotesize\ttfamily int s\+\_\+close (\begin{DoxyParamCaption}\item[{int}]{fd }\end{DoxyParamCaption})}



close the file fd and return 0 on success, or a negative value on failure. A kernel level close should occur, and on success the local process’ file descriptor table should be cleaned up appropriately. 


\begin{DoxyParams}{Parameters}
{\em fd} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}
\Hypertarget{sys__call_8h_a53c8865d5bf1ca946e5b5405190f6690}\label{sys__call_8h_a53c8865d5bf1ca946e5b5405190f6690} 
\index{sys\_call.h@{sys\_call.h}!s\_exit@{s\_exit}}
\index{s\_exit@{s\_exit}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_exit()}{s\_exit()}}
{\footnotesize\ttfamily void s\+\_\+exit (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Unconditionally exit the calling process. 

\Hypertarget{sys__call_8h_a35ff16131dec7dc8b25686329a19d0db}\label{sys__call_8h_a35ff16131dec7dc8b25686329a19d0db} 
\index{sys\_call.h@{sys\_call.h}!s\_find\_process@{s\_find\_process}}
\index{s\_find\_process@{s\_find\_process}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_find\_process()}{s\_find\_process()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structpcb__t}{pcb\+\_\+t}} \texorpdfstring{$\ast$}{*} s\+\_\+find\+\_\+process (\begin{DoxyParamCaption}\item[{pid\+\_\+t}]{pid }\end{DoxyParamCaption})}



Finds a process in any state. 


\begin{DoxyParams}{Parameters}
{\em pid} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pcb\+\_\+t\texorpdfstring{$\ast$}{*} 
\end{DoxyReturn}
\Hypertarget{sys__call_8h_ab5efee98239591e685e3ae7da8203b21}\label{sys__call_8h_ab5efee98239591e685e3ae7da8203b21} 
\index{sys\_call.h@{sys\_call.h}!s\_function\_from\_string@{s\_function\_from\_string}}
\index{s\_function\_from\_string@{s\_function\_from\_string}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_function\_from\_string()}{s\_function\_from\_string()}}
{\footnotesize\ttfamily void \texorpdfstring{$\ast$}{*} s\+\_\+function\+\_\+from\+\_\+string (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{program }\end{DoxyParamCaption})}

\Hypertarget{sys__call_8h_a18e6794b108eea25459bd7fe31de4e76}\label{sys__call_8h_a18e6794b108eea25459bd7fe31de4e76} 
\index{sys\_call.h@{sys\_call.h}!s\_kill@{s\_kill}}
\index{s\_kill@{s\_kill}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_kill()}{s\_kill()}}
{\footnotesize\ttfamily int s\+\_\+kill (\begin{DoxyParamCaption}\item[{pid\+\_\+t}]{pid,  }\item[{int}]{signal }\end{DoxyParamCaption})}



Send a signal to a particular process. 


\begin{DoxyParams}{Parameters}
{\em pid} & Process ID of the target proces. \\
\hline
{\em signal} & Signal number to be sent. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 on error. 
\end{DoxyReturn}
\Hypertarget{sys__call_8h_ab913114f1534d9ab098d0d5c4517bfe2}\label{sys__call_8h_ab913114f1534d9ab098d0d5c4517bfe2} 
\index{sys\_call.h@{sys\_call.h}!s\_ls@{s\_ls}}
\index{s\_ls@{s\_ls}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_ls()}{s\_ls()}}
{\footnotesize\ttfamily void s\+\_\+ls (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{filename }\end{DoxyParamCaption})}



List the file filename in the current directory. If filename is NULL, list all files in the current directory. Before EC implementations, this should be very simple and could literally be a call a similar k\+\_\+function. 


\begin{DoxyParams}{Parameters}
{\em filename} & \\
\hline
\end{DoxyParams}
\Hypertarget{sys__call_8h_ac21f611f4fb486935d9ad2915a529d3b}\label{sys__call_8h_ac21f611f4fb486935d9ad2915a529d3b} 
\index{sys\_call.h@{sys\_call.h}!s\_lseek@{s\_lseek}}
\index{s\_lseek@{s\_lseek}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_lseek()}{s\_lseek()}}
{\footnotesize\ttfamily off\+\_\+t s\+\_\+lseek (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{int}]{offset,  }\item[{int}]{whence }\end{DoxyParamCaption})}



reposition the file pointer for fd to the offset relative to whence. You must also implement the constants F\+\_\+\+SEEK\+\_\+\+SET, F\+\_\+\+SEEK\+\_\+\+CUR, and F\+\_\+\+SEEK\+\_\+\+END, which reference similar file whences as their similarly named counterparts in lseek(2). A kernel level lseek should occur, and necessary changes to the calling process’ file descriptor table will be necessary. 


\begin{DoxyParams}{Parameters}
{\em fd} & \\
\hline
{\em offset} & \\
\hline
{\em whence} & \\
\hline
\end{DoxyParams}
\Hypertarget{sys__call_8h_a7cc95330d937650d14281e3d6041f284}\label{sys__call_8h_a7cc95330d937650d14281e3d6041f284} 
\index{sys\_call.h@{sys\_call.h}!s\_move\_process@{s\_move\_process}}
\index{s\_move\_process@{s\_move\_process}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_move\_process()}{s\_move\_process()}}
{\footnotesize\ttfamily int s\+\_\+move\+\_\+process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structCircularList}{Circular\+List}} \texorpdfstring{$\ast$}{*}}]{destination,  }\item[{pid\+\_\+t}]{pid }\end{DoxyParamCaption})}

\Hypertarget{sys__call_8h_ac711d33fcf2573a590b224b6debab996}\label{sys__call_8h_ac711d33fcf2573a590b224b6debab996} 
\index{sys\_call.h@{sys\_call.h}!s\_nice@{s\_nice}}
\index{s\_nice@{s\_nice}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_nice()}{s\_nice()}}
{\footnotesize\ttfamily int s\+\_\+nice (\begin{DoxyParamCaption}\item[{pid\+\_\+t}]{pid,  }\item[{int}]{priority }\end{DoxyParamCaption})}



Set the priority of the specified thread. 


\begin{DoxyParams}{Parameters}
{\em pid} & Process ID of the target thread. \\
\hline
{\em priority} & The new priorty value of the thread (0, 1, or 2) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, -\/1 on failure. 
\end{DoxyReturn}
\Hypertarget{sys__call_8h_afec6e61720e05918efefeab347e950f3}\label{sys__call_8h_afec6e61720e05918efefeab347e950f3} 
\index{sys\_call.h@{sys\_call.h}!s\_open@{s\_open}}
\index{s\_open@{s\_open}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_open()}{s\_open()}}
{\footnotesize\ttfamily int s\+\_\+open (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{fname,  }\item[{int}]{mode }\end{DoxyParamCaption})}



open a file name fname with the mode mode and return a file descriptor. The allowed modes are as follows\+: 

F\+\_\+\+WRITE -\/ writing and reading, truncates if the file exists, or creates it if it does not exist. Only one instance of a file can be opened in F\+\_\+\+WRITE mode; error if Penn\+OS attempts to open a file in F\+\_\+\+WRITE mode more than once F\+\_\+\+READ -\/ open the file for reading only, return an error if the file does not exist F\+\_\+\+APPEND -\/ open the file for reading and writing but does not truncate the file if exists; additionally, the file pointer references the end of the file.

s\+\_\+open returns a file descriptor on success and a negative value on error. This open will initially be done at the kernel level, using a more intricate and already-\/implemented kernel level function. If the kernel level function succeeds and returns a fd, the user level function should also somehow keep track that such file descriptor is managed by the calling process. This can be done in multiple ways.


\begin{DoxyParams}{Parameters}
{\em fname} & \\
\hline
{\em mode} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}
\Hypertarget{sys__call_8h_afdcf52e63af8002a5d7c02774ee0578f}\label{sys__call_8h_afdcf52e63af8002a5d7c02774ee0578f} 
\index{sys\_call.h@{sys\_call.h}!s\_read@{s\_read}}
\index{s\_read@{s\_read}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_read()}{s\_read()}}
{\footnotesize\ttfamily ssize\+\_\+t s\+\_\+read (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{int}]{n,  }\item[{char \texorpdfstring{$\ast$}{*}}]{buf }\end{DoxyParamCaption})}



read n bytes from the file referenced by fd. On return, s\+\_\+read returns the number of bytes read, 0 if EOF is reached, or a negative number on error. A kernel level read should occur to perform the actual functionality, but its important to remember that the process’ file descriptor may need to be updated as the position of the file pointer changes. 


\begin{DoxyParams}{Parameters}
{\em fd} & \\
\hline
{\em n} & \\
\hline
{\em buf} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
ssize\+\_\+t 
\end{DoxyReturn}
\Hypertarget{sys__call_8h_a09ef4dc77a6071976f7d93759d48afa6}\label{sys__call_8h_a09ef4dc77a6071976f7d93759d48afa6} 
\index{sys\_call.h@{sys\_call.h}!s\_remove\_process@{s\_remove\_process}}
\index{s\_remove\_process@{s\_remove\_process}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_remove\_process()}{s\_remove\_process()}}
{\footnotesize\ttfamily int s\+\_\+remove\+\_\+process (\begin{DoxyParamCaption}\item[{pid\+\_\+t}]{pid }\end{DoxyParamCaption})}



Removes a process in any state. 


\begin{DoxyParams}{Parameters}
{\em pid} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}
\Hypertarget{sys__call_8h_aec37528a3c7935864924764d1911126c}\label{sys__call_8h_aec37528a3c7935864924764d1911126c} 
\index{sys\_call.h@{sys\_call.h}!s\_sleep@{s\_sleep}}
\index{s\_sleep@{s\_sleep}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_sleep()}{s\_sleep()}}
{\footnotesize\ttfamily void s\+\_\+sleep (\begin{DoxyParamCaption}\item[{unsigned int}]{ticks }\end{DoxyParamCaption})}



Suspends execution of the calling proces for a specified number of clock ticks. 

This function is analogous to {\ttfamily sleep(3)} in Linux, with the behavior that the system clock continues to tick even if the call is interrupted. The sleep can be interrupted by a P\+\_\+\+SIGTERM signal, after which the function will return prematurely.


\begin{DoxyParams}{Parameters}
{\em ticks} & Duration of the sleep in system clock ticks. Must be greater than 0. \\
\hline
\end{DoxyParams}
\Hypertarget{sys__call_8h_a43b789c710ba1501bcd8cf54e4382e50}\label{sys__call_8h_a43b789c710ba1501bcd8cf54e4382e50} 
\index{sys\_call.h@{sys\_call.h}!s\_spawn@{s\_spawn}}
\index{s\_spawn@{s\_spawn}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_spawn()}{s\_spawn()}}
{\footnotesize\ttfamily pid\+\_\+t s\+\_\+spawn (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}(\texorpdfstring{$\ast$}{*})(void \texorpdfstring{$\ast$}{*})}]{func,  }\item[{char \texorpdfstring{$\ast$}{*}}]{argv\mbox{[}$\,$\mbox{]},  }\item[{int}]{fd0,  }\item[{int}]{fd1 }\end{DoxyParamCaption})}



Create a child process that executes the function {\ttfamily func}. The child will retain some attributes of the parent. 


\begin{DoxyParams}{Parameters}
{\em func} & Function to be executed by the child process. \\
\hline
{\em argv} & Null-\/terminated array of args, including the command name as argv\mbox{[}0\mbox{]}. \\
\hline
{\em fd0} & Input file descriptor. \\
\hline
{\em fd1} & Output file descriptor. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pid\+\_\+t The process ID of the created child process. // need to define error output? 
\end{DoxyReturn}
\Hypertarget{sys__call_8h_a9116ac84aeec3a4717eab9aa7137080e}\label{sys__call_8h_a9116ac84aeec3a4717eab9aa7137080e} 
\index{sys\_call.h@{sys\_call.h}!s\_spawn\_and\_wait@{s\_spawn\_and\_wait}}
\index{s\_spawn\_and\_wait@{s\_spawn\_and\_wait}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_spawn\_and\_wait()}{s\_spawn\_and\_wait()}}
{\footnotesize\ttfamily int s\+\_\+spawn\+\_\+and\+\_\+wait (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}(\texorpdfstring{$\ast$}{*})(void \texorpdfstring{$\ast$}{*})}]{func,  }\item[{char \texorpdfstring{$\ast$}{*}}]{argv\mbox{[}$\,$\mbox{]},  }\item[{int}]{fd0,  }\item[{int}]{fd1,  }\item[{bool}]{nohang,  }\item[{unsigned int}]{priority }\end{DoxyParamCaption})}



Spawns and waits for a process. 


\begin{DoxyParams}{Parameters}
{\em func} & \\
\hline
{\em argv} & \\
\hline
{\em fd0} & \\
\hline
{\em fd1} & \\
\hline
{\em nohang} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}
\Hypertarget{sys__call_8h_a62b97025761b7f8ad7e59b641cad08d6}\label{sys__call_8h_a62b97025761b7f8ad7e59b641cad08d6} 
\index{sys\_call.h@{sys\_call.h}!s\_spawn\_nice@{s\_spawn\_nice}}
\index{s\_spawn\_nice@{s\_spawn\_nice}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_spawn\_nice()}{s\_spawn\_nice()}}
{\footnotesize\ttfamily pid\+\_\+t s\+\_\+spawn\+\_\+nice (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}(\texorpdfstring{$\ast$}{*})(void \texorpdfstring{$\ast$}{*})}]{func,  }\item[{char \texorpdfstring{$\ast$}{*}}]{argv\mbox{[}$\,$\mbox{]},  }\item[{int}]{fd0,  }\item[{int}]{fd1,  }\item[{unsigned int}]{priority }\end{DoxyParamCaption})}

\Hypertarget{sys__call_8h_a395873f1de0b89a686d438580ba5dcf7}\label{sys__call_8h_a395873f1de0b89a686d438580ba5dcf7} 
\index{sys\_call.h@{sys\_call.h}!s\_unlink@{s\_unlink}}
\index{s\_unlink@{s\_unlink}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_unlink()}{s\_unlink()}}
{\footnotesize\ttfamily int s\+\_\+unlink (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{fname }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em fname} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 
\end{DoxyReturn}
\Hypertarget{sys__call_8h_a3c0c6c4ae69799354d707ff57ac925d3}\label{sys__call_8h_a3c0c6c4ae69799354d707ff57ac925d3} 
\index{sys\_call.h@{sys\_call.h}!s\_waitpid@{s\_waitpid}}
\index{s\_waitpid@{s\_waitpid}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_waitpid()}{s\_waitpid()}}
{\footnotesize\ttfamily pid\+\_\+t s\+\_\+waitpid (\begin{DoxyParamCaption}\item[{pid\+\_\+t}]{pid,  }\item[{int \texorpdfstring{$\ast$}{*}}]{wstatus,  }\item[{bool}]{nohang }\end{DoxyParamCaption})}



Wait on a child of the calling process, until it changes state. If {\ttfamily nohang} is true, this will not block the calling process and return immediately. 


\begin{DoxyParams}{Parameters}
{\em pid} & Process ID of the child to wait for. \\
\hline
{\em wstatus} & Pointer to an integer variable where the status will be stored. \\
\hline
{\em nohang} & If true, return immediately if no child has exited. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pid\+\_\+t The process ID of the child which has changed state on success, -\/1 on error. 
\end{DoxyReturn}
\Hypertarget{sys__call_8h_ad3317435b4bd7309160538fc5d730eb9}\label{sys__call_8h_ad3317435b4bd7309160538fc5d730eb9} 
\index{sys\_call.h@{sys\_call.h}!s\_write@{s\_write}}
\index{s\_write@{s\_write}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_write()}{s\_write()}}
{\footnotesize\ttfamily ssize\+\_\+t s\+\_\+write (\begin{DoxyParamCaption}\item[{int}]{fd,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{str,  }\item[{int}]{n }\end{DoxyParamCaption})}



write n bytes of the string referenced by str to the file fd and increment the file pointer by n. On return, s\+\_\+write returns the number of bytes written, or a negative value on error. Note that this writes bytes not chars, these can be anything, even \textquotesingle{}\textbackslash{}0\textquotesingle{} A kernel level write should occur to perform the actual functionality, but its important to remember that the process’ file descriptor may need to be updated as the position of the file pointer changes. 


\begin{DoxyParams}{Parameters}
{\em fd} & \\
\hline
{\em str} & \\
\hline
{\em n} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
ssize\+\_\+t 
\end{DoxyReturn}
\Hypertarget{sys__call_8h_a1db57eb907f680ab844066357b793d5f}\label{sys__call_8h_a1db57eb907f680ab844066357b793d5f} 
\index{sys\_call.h@{sys\_call.h}!s\_write\_log@{s\_write\_log}}
\index{s\_write\_log@{s\_write\_log}!sys\_call.h@{sys\_call.h}}
\doxysubsubsection{\texorpdfstring{s\_write\_log()}{s\_write\_log()}}
{\footnotesize\ttfamily int s\+\_\+write\+\_\+log (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{sys__call_8h_a9df1ce5034a7614c2c55bc05500f5991}{log\+\_\+message\+\_\+t}}}]{logtype,  }\item[{\mbox{\hyperlink{structpcb__t}{pcb\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{proc,  }\item[{unsigned int}]{old\+\_\+nice }\end{DoxyParamCaption})}

